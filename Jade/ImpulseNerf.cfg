// Author: Caliperstorm

// Patch to nerf impulse drives from Impulse Party. 
// In the default configuration they are treated as plasma engines (i.e. they consume only LF/H2 and electricity), but have atmospheric capability, rather high ISP and thrust for an electric engine, and very low EC use
// The built-in "hard balance" patch removes atmospheric capability and increases EC use, but leaves ISP still rather high and removes some of the uniqueness of the engine.
// So, this patch retains atmo capability, but reduces ISP closer to that of the FFT fusion aerospike. 
// The idea is that these are ultra high-powered arcjets or similar, operating with mass flow comparable to advanced nuclear engines.
// I have no idea how realistic this is, I mostly just made them act like the Ranger's engines from Interstellar

@PART[impp_impeng*]:FINAL
{
	@MODULE[ModuleEnginesFX]
	{
		@PROPELLANT[ElectricCharge]
		{
			@ratio = 12.73798808
		}
		@PROPELLANT[LiquidFuel] // Should already be hydrogen if cryo tanks is installed
		{
			@name = LqdHydrogen
		}
		@atmosphereCurve
		{
			-key,* = nope
			key = 0 2200
			key = 1 2000
			key = 15 1100
			key = 20 0.001
		}
	}
}